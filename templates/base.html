<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Farmácia QUEOPS{% endblock %}</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="icon" type="image/png" href="{% static 'img/favicon.png' %}">
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- Navbar -->
    <header class="navbar">
        <div class="container navbar-inner">
            <a href="{% url 'core:home' %}" class="brand">
                <span>Farmácia QUEOPS</span>
                <span>Saúde Integrada</span>
            </a>

            <nav>
                <ul class="nav-links">
                    <li><a href="{% url 'core:home' %}">Início</a></li>
                    <li><a href="{% url 'produtos:lista' %}">Produtos</a></li>
                    {% if user.is_authenticated %}
                        <li><a href="{% url 'usuarios:perfil' %}">Minha Conta</a></li>
                        <li><a href="{% url 'usuarios:logout' %}">Sair</a></li>
                    {% else %}
                        <li><a href="{% url 'usuarios:login' %}">Entrar</a></li>
                        <li><a href="{% url 'usuarios:registro' %}">Criar conta</a></li>
                    {% endif %}
                </ul>
            </nav>

            <div class="nav-cta">
                {% if user.is_authenticated %}
                    <a href="{% url 'usuarios:lista_desejos' %}" class="btn btn-secondary nav-button">
                        Lista de desejos
                        {% if wishlist_count > 0 %}
                            <span class="badge">{{ wishlist_count }}</span>
                        {% endif %}
                    </a>
                {% endif %}
                <a href="{% url 'pedidos:carrinho' %}" class="btn btn-primary nav-button">
                    Carrinho
                    {% if carrinho_count > 0 %}
                        <span class="badge">{{ carrinho_count }}</span>
                    {% endif %}
                </a>
            </div>
        </div>
    </header>

    <!-- Mensagens -->
    {% if messages %}
        <div class="container">
            <ul class="messages">
                {% for message in messages %}
                    <li class="alert alert-{{ message.tags }}">
                        {{ message }}
                    </li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}

    <!-- Conteúdo Principal -->
    <main>
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p class="footer-brand">Farmácia QUEOPS</p>
            <p>&copy; 2025 Todos os direitos reservados.</p>
            <div style="margin-top: 1rem; display: flex; gap: 1.5rem; justify-content: center; flex-wrap: wrap;">
                <a href="{% url 'core:politica_privacidade' %}" style="color: rgba(255,255,255,0.7); text-decoration: none; font-size: 0.9rem; transition: color 0.3s;" onmouseover="this.style.color='white'" onmouseout="this.style.color='rgba(255,255,255,0.7)'">
                    Política de Privacidade
                </a>
                {% if user.is_authenticated %}
                <a href="{% url 'core:meus_dados_lgpd' %}" style="color: rgba(255,255,255,0.7); text-decoration: none; font-size: 0.9rem; transition: color 0.3s;" onmouseover="this.style.color='white'" onmouseout="this.style.color='rgba(255,255,255,0.7)'">
                    Meus Dados (LGPD)
                </a>
                {% endif %}
            </div>
        </div>
    </footer>

    {% block extra_js %}{% endblock %}
</body>
</html>
